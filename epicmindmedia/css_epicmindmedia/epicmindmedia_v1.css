/* =========================================================
   Epic Mind Media v1 â€” Full Responsive Stylesheet
   Transparent header + compact pre-scroll nav + equal widths on scroll
========================================================= */

/* ---------- Design Tokens ---------- */
:root{
  --ink:#060b30;           /* deep blue */
  --accent:#ffa500;        /* orange */
  --paper:#ffffff;         /* white */
  --earth:#483033;         /* brown */
  --highlight:#0074e4;     /* bright blue */
  --muted:#b9c4d6;         /* soft gray */
  --radius:16px;           /* roundness */
  --shadow:0 10px 30px rgba(0,0,0,.18);
  --max:1400px;    /* wider layout for large screens */
  --speed:180ms;           /* animation speed */
    /* aliases */
  --color-bg-primary: var(--ink);
  --color-text-primary: var(--paper);
  --color-focus: var(--highlight);
}

/* ---------- Reset & Base ---------- */
*,*::before,*::after{box-sizing:border-box}

/* CONSOLIDATED & CORRECTED BASE STYLES */
html{
  margin:0;
  padding:0;
  scroll-behavior:smooth;
  
  /* Fix 1: Force vertical scrollbar to always show (no flashing/jumping) */
  overflow-y: scroll; 
  
  /* Fix 2: Prevent horizontal overflow */
  overflow-x: hidden; 
  
  -webkit-text-size-adjust: 100%; 
  text-size-adjust: 100%;
}

body{
  margin:0;
  padding:0;
  background:var(--ink); color:var(--paper);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
  line-height:1.6; -webkit-font-smoothing:antialiased;
  
  /* Fix 3: Remove redundant/conflicting overflow rules from body */
  /* Remove: overflow-x: hidden; */
  /* Remove: max-width: 100vw; */
}

/* *{outline:1px dashed rgba(255,165,0,.3)}  */


@media (max-width:480px){
  body{ 
    line-height:1.7; 
  }
}


html { 
  -webkit-text-size-adjust: 100%;  /* Stops Safari from resizing text */
  text-size-adjust: 100%;          /* Cross-browser equivalent */
}
input, select, textarea { 
  font: inherit;                   /* Forces form text to match site font */
}



/* =========================================================
   ACCESSIBILITY: REDUCE MOTION
   ========================================================= */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

/* ---------- Accessibility ---------- */
.skip-link{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}
.skip-link:focus{left:1rem;top:1rem;background:var(--paper);color:var(--ink);padding:.5rem .75rem;border-radius:10px;z-index:9999}
:where(a,button,[role="button"],input,select,textarea):focus-visible{
  outline:3px solid var(--highlight);
  outline-offset:2px;
  box-shadow:0 0 0 4px rgba(0,116,228,.22);
}

@media (forced-colors: active){
  :focus{ outline: 2px solid CanvasText; outline-offset:2px; }
  a, .btn{ forced-color-adjust:auto; }
}





/* ---------- Layout Utilities ---------- */
.container{
  max-width:var(--max);
  margin:auto;
  padding-inline:1rem;
  overflow-x: hidden;
}
.section{padding:clamp(2.5rem,6vw,5rem) 0}
.section--alt{background:#0a123e}
.section--highlight{background:linear-gradient(160deg,#0a123e,#060b30)}

.section[id]{ scroll-margin-top: clamp(64px, 12vh, 96px); }

.anchor-target{ scroll-margin-top: clamp(64px, 12vh, 96px); }





/* =========================================================
   HEADER â€” Fully Transparent
========================================================= */
.header{
  position: fixed; top:0; left:0; right:0;
  z-index: 1000;                /* restore stacking */
  background: transparent; box-shadow: none;
  transition: background var(--speed) ease, backdrop-filter var(--speed) ease;
  /* remove: contain: paint;  */
}
.header__row{ width: 100%; }    /* replace 100vw with 100% */


/* Keep your existing .header.is-scrolled {...} */

.header.is-scrolled{background:rgba(6,11,48,0)} /* stays transparent per spec */
.header__row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:1rem;
  padding:.6rem 1rem;
  /* ADD THIS: Ensure the row fills the full viewport width */
  width: 100vw;
}

/* ---------- Logo ---------- */
.logo img{
  width:64px;height:64px;border-radius:50%;border:2px solid rgba(255,255,255,.15);
  transition:transform .25s ease,filter .25s ease,box-shadow .25s ease;will-change:transform;
}
.logo:hover img,.logo:focus-visible img{
  transform:translateY(-2px) scale(1.06);
  filter:drop-shadow(0 0 14px rgba(255,165,0,.75));
  box-shadow:0 0 18px rgba(255,165,0,.65);
  border-color:rgba(255,165,0,.8);
}

/* ---------- Navigation (mobile core) ---------- */
.nav-toggle{
  display:inline-grid;
  place-items:center;
  width:44px; /* increased to meet accessibility tap target */
  height:44px;
  padding:8px;
  border:0;
  background:transparent;
  cursor:pointer;
  border-radius:12px;
}

.nav-toggle:focus-visible {
  outline:3px solid var(--highlight);
  outline-offset:3px;
  box-shadow:0 0 0 4px rgba(0,116,228,.25);
  background:rgba(0,116,228,.08);

}


.nav-toggle .bar{width:100%;height:3px;background:var(--paper);border-radius:2px;margin-top:5px}
/* Off-canvas drawer: no transforms = no horizontal bleed */
/* Off-canvas drawer: no transforms = no horizontal bleed */
.nav{
  position: fixed;
  top: 0; bottom: 0; left: auto; right: -100%;
  width: min(80vw, 340px);
  background:#0a123e;
  transition: right var(--speed) ease, box-shadow var(--speed) ease;
  will-change: right;
  overflow-y:auto; -webkit-overflow-scrolling:touch; overscroll-behavior:contain;
  box-shadow: none;                 /* ðŸ”¹ shadow OFF when closed */
}
.nav.open{ 
  right: 0; 
  box-shadow: var(--shadow);        /* ðŸ”¹ shadow ON only when visible */
}




/* Improve touch scrolling in the off-canvas panel */
.nav{ overflow-y:auto; -webkit-overflow-scrolling:touch; overscroll-behavior:contain; }

.nav__list{list-style:none;display:grid;gap:1rem}
.nav__list a{
  color:var(--paper);padding:.6rem .75rem;border-radius:10px;
  transition:color var(--speed),background var(--speed),transform var(--speed);
}

/* Lock body scroll when menu is open (toggle body.nav-open in JS) */
body.nav-open { 
  overflow: hidden;
  body { overflow-y: scroll; }  /* safe fallback if needed */

}


.nav__cta .btn{margin-top:.25rem}

@media (min-width:900px){
  /* Scrolled: give links orange chips (desktop only) */
  .header.is-scrolled .nav .nav__list a {
    background: rgba(255,165,0,.90);
    color: var(--ink);
    border: 1px solid rgba(0,0,0,.08);
    transition: background .2s ease, color .2s ease, transform .2s ease, box-shadow .2s ease;
  }

}


/* =========================================================
   DESKTOP NAV â€” exact 24px pre-scroll, equal widths on scroll
========================================================= */

  @media (min-width:900px){
  /* REDUCED MAX WIDTH: Clamp is now tighter to prevent overflow */
Â  :root{ --navItemW: clamp(7.5rem, 8.5vw, 9rem) } 
    

  .nav-toggle{display:none}
  .nav{position:static;transform:none;width:auto;background:transparent;padding:0;box-shadow:none}

  /* PRE-SCROLL: true 24px gaps, natural widths (no internal empty space) */
  .nav__list{
    display:flex;
    align-items:center;
    gap:24px; /* exact 24px before scroll */
    transition:gap .25s ease;
  }

/* AFTER SCROLL: slightly wider spacing to match chip look */
.header.is-scrolled .nav__list{ gap:16px }


  /* PRE-SCROLL items: natural width + only vertical padding (no extra inline padding) */
  .nav__list > li:not(.nav__cta) > a{
    display:inline-block;inline-size:auto;
    text-align:center;white-space:nowrap;
    padding-block:.6rem;padding-inline:0;border-radius:10px;
  }

  /* AFTER SCROLL: equal-width chips */
  .header.is-scrolled .nav__list > li:not(.nav__cta) > a{
    inline-size:var(--navItemW);
  }

  /* CTA remains natural size always */
  .nav__list > li.nav__cta{flex:0 0 auto}
  .nav__list > li.nav__cta > a{inline-size:auto}
}

/* I am not sure if this is correct */
@media (hover:hover) and (pointer:fine){
  .nav__list a{ transform:none; } /* neutralize past translateX */
}


/* ---------- Buttons ---------- */
.btn{display:inline-block;padding:.7rem 1rem;border-radius:calc(var(--radius) - 6px);font-weight:700;letter-spacing:.2px;transition:transform var(--speed),background var(--speed),box-shadow var(--speed)}
.btn--accent{background:var(--accent);color:var(--ink)}

/* Default: white text on transparent header */
.header .nav__cta .btn.btn--accent { color: var(--paper); }

/* On scroll: orange chip uses dark text */
.header.is-scrolled .nav__cta .btn.btn--accent { color: var(--ink); }

/* Hover/Focus/Active: keep contrast-safe */
/* CTA hover/focus/active (works both pre- and post-scroll) */
.header .nav__cta .btn.btn--accent:hover,
.header .nav__cta .btn.btn--accent:focus-visible,
.header .nav__cta .btn.btn--accent:active{
  background: var(--accent);
  color: var(--ink);
  filter: brightness(0.95);
  text-decoration: none;
}



/* CTA keyboard focus ring */
.header .nav__cta .btn.btn--accent:focus-visible {
  outline: 3px solid var(--highlight);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(0,116,228,.2);
}


/* Keep CTA visited state consistent */
.header .nav__cta .btn.btn--accent:visited { color: var(--paper); }
@media (min-width:900px){
  .header.is-scrolled .nav__cta .btn.btn--accent:visited { color: var(--ink); }
}

/* Pre-scroll focus ring (links before header gets .is-scrolled) */
.nav .nav__list a:focus-visible{
  outline:3px solid var(--highlight);
  box-shadow:0 0 0 4px rgba(0,116,228,.25);
  border-radius:10px;
}

/* Stronger focus ring on orange chips (desktop) */
@media (min-width:900px){
  .header.is-scrolled .nav .nav__list a:focus-visible {
    outline: 3px solid var(--ink);
    box-shadow: 0 0 0 4px rgba(255,165,0,.5);
    border-radius: 10px;
  }
}

/* Mobile: comfier tap targets */
@media (max-width:900px){
  .nav__list a {
    padding: .9rem 1rem;
  }
}



/* Mobile tap polish */
.nav__list a:focus-visible {
  outline:3px solid var(--highlight);
  outline-offset:2px;
  border-radius:10px;
  box-shadow:0 0 0 3px rgba(0,116,228,.25);
}


a, button { -webkit-tap-highlight-color: transparent; }

.btn--light{background:#eaf0ff;color:#0b1030}
.btn--light:hover{background:#f4f7ff}

a{ color:#dfe7ff; text-decoration:none; }
a:hover{ color:var(--accent); }

.btn:focus-visible{
  outline:3px solid var(--highlight);
  outline-offset:2px;
  box-shadow:0 0 0 4px rgba(0,116,228,.22);
}



/* =========================================================
   HERO
========================================================= */
/* HERO */
.hero{
  position:relative;
  min-height:min(92vh,900px);
  display:grid;
  place-items:end center;
  overflow:hidden; /* or overflow: clip; if you prefer */
}

.hero__media{
  position:absolute; inset:0;
  z-index:-1; overflow:hidden;
}

.hero__video{
  width:100%; height:100%;
  object-fit:cover; object-position:50% 70%;
  filter:saturate(1.08) contrast(1.05);
}

.hero__overlay{
  position:absolute; inset:0;
  background:linear-gradient(to top, rgba(6,11,48,.60), rgba(6,11,48,.10));
  transition: background 320ms ease;
}

img, video { max-width:100%; height:auto; display:block; }




/* Stronger dark overlay when text appears */
.hero.hero--dim .hero__overlay {
  background: linear-gradient(
    to top,
    rgba(0, 0, 20, 0.92),   /* cinematic dark base */
    rgba(6, 11, 48, 0.90),  /* deep blue mid tone */
    rgba(6, 11, 48, 0.55)   /* soft fade top */
  );
  transition: background 420ms ease; /* smooth fade timing */
}



@media (prefers-reduced-motion: reduce){
  .hero__overlay{ transition:none; }
}


.hero__content{text-align:center;padding:12vh 1rem 7vh}
.hero__content h1{margin:0 0 .5rem;font-size:clamp(2rem,6vw,4rem)}
.hero__content p{max-width:62ch;margin:0 auto 1rem;color:#dfe7ff}
/* Hero overlay reveal */
.hero__content.is-hidden {
  opacity: 0;
  transform: translateY(8px);
  pointer-events: none;
}

.hero__content.is-visible {
  opacity: 1;
  transform: none;
  pointer-events: auto;
  transition: opacity 320ms var(--speed, ease), transform 320ms var(--speed, ease);
}

/* Accessibility: Disable animation if user prefers reduced motion */
@media (prefers-reduced-motion: reduce) {
  .hero__content.is-hidden { opacity: 0; transform: none; }
  .hero__content.is-visible { transition: none; }
}



/* =========================================================
   SERVICES
========================================================= */
.cards{display:grid;grid-template-columns:1fr;gap:1rem;margin-top:1rem}
.card{
  background:#0b1038;
  border:1px solid rgba(255,255,255,.12);
  border-radius:var(--radius);padding:1rem;box-shadow:var(--shadow);
  transition:transform var(--speed),border-color var(--speed);
}
.card h3 { margin: 0 0 .25rem; }

@media (hover:hover) and (pointer:fine) {
  .card:hover {
    transform: translateY(-3px);
    border-color: var(--highlight);
  }
  .tile:hover { transform: translateY(-3px); }
}



/* =========================================================
   PORTFOLIO
========================================================= */
.grid{display:grid;grid-template-columns:1fr;gap:1rem;margin-top:1rem}
.tile{
  background:#0b1038;border-radius:var(--radius);
  border:1px solid rgba(255,255,255,.12);
  overflow:hidden;transition:transform var(--speed);
}
.tile:hover{transform:translateY(-3px)}
.tile img{aspect-ratio:4/3;object-fit:cover}
.tile figcaption{ padding:.75rem; color:#cdd8ff; }


@media (min-width:640px){.cards{grid-template-columns:repeat(2,1fr)}}
@media (min-width:960px){.cards{grid-template-columns:repeat(4,1fr)}}
@media (min-width:768px){.grid{grid-template-columns:repeat(2,1fr)}}
@media (min-width:1120px){.grid{grid-template-columns:repeat(3,1fr)}}

/* =========================================================
   FORM
========================================================= */
.form{display:grid;grid-template-columns:1fr;gap:1rem;margin-top:1rem}
.form label{display:grid;gap:.35rem}

.form input,.form select,.form textarea{
  padding:.8rem;border-radius:12px;border:1px solid rgba(255,255,255,.12);
  background:#0b1038;color:var(--paper);
  font-size:16px; /* prevents iOS zoom on focus */
}

.form ::placeholder{ color:#aab7e6; }


.form input:focus,.form select:focus,.form textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(255,165,0,.18)}
.form textarea{min-height:140px;resize:vertical}
#quoteStatus{margin-top:.25rem;font-weight:700;color:var(--highlight)}

@media (min-width:800px){
  .form{grid-template-columns:1fr 1fr}
  .form textarea,.form button{grid-column:1/-1}
}

/* =========================================================
   CONTACT & FOOTER
========================================================= */
#contact p a{border-bottom:2px solid var(--earth);transition:border-color var(--speed),color var(--speed)}
#contact p a:hover{color:var(--accent);border-color:var(--accent)}

.footer{background:#0a123e;border-top:1px solid rgba(255,255,255,.08);padding:2rem 0}
.footer__row{display:flex;align-items:center;justify-content:space-between;gap:1rem}
.back-to-top{opacity:.85;transition:opacity var(--speed),transform var(--speed)}
.back-to-top:hover{opacity:1;transform:translateY(-2px)}

/* =========================================================
   PRINT
========================================================= */
@media print{
  .hero__media,.nav,.nav-toggle,.btn{display:none!important}
  body{background:#fff;color:#000}
  a{color:#000;text-decoration:underline}
}
