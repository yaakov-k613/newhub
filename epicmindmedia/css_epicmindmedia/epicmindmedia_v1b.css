/* =========================================================
   Epic Mind Media v1 — Accessible, Readable, Performant CSS
   Goals:
   - WCAG 2.1 AA contrast targets
   - Clear, scalable design tokens
   - Fluid typography + spacing ramp
   - Robust focus states & reduced motion support
   - Minimal overrides to preserve existing HTML/IDs/classes
   - Prefers user defaults (system fonts) for speed & legibility
========================================================= */

/* ---------- Design Tokens ---------- */
:root{
  /* Core palette (kept names to avoid breaking existing references) */
  --ink:#060b30;             /* deep navy (bg / headings on light) */
  --paper:#ffffff;           /* white (backgrounds) */
  --accent:#ffa500;          /* orange (buttons/accents on dark; ensure size/weight for contrast) */
  --earth:#483033;           /* warm brown (secondary text on light backgrounds) */
  --highlight:#0074e4;       /* cobalt (links, focus) */
  --muted:#b9c4d6;           /* soft gray (borders, subtle text on dark) */

  /* Derived semantic tokens */
  --bg: var(--ink);                              /* default background */
  --fg: var(--paper);                            /* default foreground on dark */
  --surface: #0c1345;                            /* elevated surfaces on dark */
  --on-surface: var(--fg);
  --link: var(--highlight);
  --link-visited: #5a39ff;
  --focus: var(--highlight);
  --border: rgba(255,255,255,.18);

  /* Typography scale (fluid) */
  /* Base scales target ~16px at small screens and ramp up to ~18px on large */
  --font-sans: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial,'Noto Sans',ui-sans-serif,sans-serif;
  --font-mono: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;

  --fs-100: clamp(.78rem, .74rem + .2vw, .88rem);   /* captions */
  --fs-200: clamp(.88rem, .82rem + .3vw, .98rem);   /* small */
  --fs-300: clamp(1.00rem, .95rem + .35vw, 1.125rem);/* body */
  --fs-400: clamp(1.125rem, 1.02rem + .6vw, 1.25rem);/* lead */
  --fs-500: clamp(1.375rem, 1.18rem + .8vw, 1.625rem);/* h3 */
  --fs-600: clamp(1.625rem, 1.4rem + 1.2vw, 2.125rem);/* h2 */
  --fs-700: clamp(2rem, 1.6rem + 2vw, 2.75rem);      /* h1 */

  /* Line-heights (optical sizing) */
  --lh-tight: 1.15;
  --lh-snug: 1.25;
  --lh-normal: 1.5;
  --lh-relaxed: 1.65;

  /* Spacing ramp (8px baseline with fluid bump) */
  --space-1: clamp(.375rem, .32rem + .3vw, .5rem);  /* ~6–8px */
  --space-2: clamp(.5rem, .44rem + .4vw, .75rem);   /* ~8–12px */
  --space-3: clamp(.75rem, .6rem + .6vw, 1rem);     /* ~12–16px */
  --space-4: clamp(1rem, .8rem + .8vw, 1.5rem);     /* ~16–24px */
  --space-5: clamp(1.5rem, 1.2rem + 1vw, 2rem);     /* ~24–32px */
  --space-6: clamp(2rem, 1.6rem + 1.4vw, 2.5rem);   /* ~32–40px */
  --space-7: clamp(2.5rem, 2rem + 1.6vw, 3rem);     /* ~40–48px */
  --space-8: clamp(3rem, 2.4rem + 2vw, 3.75rem);    /* ~48–60px */

  /* Radius & shadows */
  --radius: 16px;
  --radius-sm: 10px;
  --radius-lg: 24px;
  --shadow-sm: 0 4px 14px rgba(0,0,0,.18);
  --shadow: 0 10px 30px rgba(0,0,0,.24);

  /* Layout */
  --max: 72rem;               /* ~1152px */
  --gutter: var(--space-4);
  --speed: 180ms;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce){
  *{animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; scroll-behavior: auto !important;}
}

/* ---------- Reset & Base ---------- */
*,
*::before,
*::after{ box-sizing: border-box; }

html{ scroll-behavior: smooth; }

body{
  margin:0;
  background: var(--bg);
  color: var(--fg);
  font-family: var(--font-sans);
  font-size: var(--fs-300);
  line-height: var(--lh-normal);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Selection color (ensure AA on both bg contexts) */
::selection{
  background: rgba(255,165,0,.28);
  color: #fff;
}

/* ---------- Typography ---------- */
h1,h2,h3,h4,h5,h6{
  margin: 0 0 var(--space-3);
  font-weight: 700;
  line-height: var(--lh-snug);
}
h1{ font-size: var(--fs-700); }
h2{ font-size: var(--fs-600); }
h3{ font-size: var(--fs-500); }
p{ margin: 0 0 var(--space-3); max-width: 70ch; }
.lead{ font-size: var(--fs-400); line-height: var(--lh-relaxed); }

/* Links with visible focus and visited differentiation */
a{
  color: var(--link);
  text-decoration: underline;
  text-underline-offset: .14em;
}
a:visited{ color: var(--link-visited); }
a:hover{ text-decoration-thickness: .14em; }
a:focus-visible{
  outline: 3px solid var(--focus);
  outline-offset: 2px;
  border-radius: 6px;
}

/* ---------- Layout Helpers ---------- */
.container{
  width: min(100% - 2*var(--gutter), var(--max));
  margin-inline: auto;
}
.stack > * + *{ margin-top: var(--space-3); }         /* vertical rhythm */
.cluster{
  display: flex; flex-wrap: wrap; gap: var(--space-3);
  align-items: center;
}
.grid{
  display: grid; gap: var(--space-4);
}
.grid-3{
  grid-template-columns: repeat(3, minmax(0,1fr));
}
@media (max-width: 900px){
  .grid-3{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 600px){
  .grid-3{ grid-template-columns: 1fr; }
}

/* ---------- Header & Nav (keeps typical IDs/classes) ---------- */
header{
  position: sticky; top: 0; z-index: 50;
  background: rgba(6,11,48,.72);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--border);
}
.header-inner{
  display:flex; align-items:center; justify-content:space-between;
  height: clamp(56px, 48px + 2vw, 72px);
  padding-block: .25rem;
}
.site-logo{ display:flex; align-items:center; gap: var(--space-2); color: var(--fg); text-decoration: none; }
.site-logo img{ width: clamp(28px, 22px + 1.2vw, 40px); height:auto; }
nav ul{ list-style:none; margin:0; padding:0; }
nav li{ display:inline-block; }
nav a{
  display:inline-block;
  padding: .45rem .75rem;
  border-radius: 10px;
  color: var(--fg);
  text-decoration: none;
  font-size: var(--fs-200);
}
nav a:focus-visible{ outline: 3px solid var(--focus); outline-offset: 2px; }
nav a:hover{ background: rgba(255,255,255,.08); }

/* Mobile menu affordance (if used) */
.nav-toggle{
  display:none;
  background: transparent; border: 1px solid var(--border);
  color: var(--fg); padding: .5rem .65rem; border-radius: 10px;
}
@media (max-width: 900px){
  .nav-toggle{ display:block; }
  nav[aria-expanded="false"] ul{ display:none; }
  nav[aria-expanded="true"] ul{ display:block; padding-block: var(--space-2); }
  nav li{ display:block; }
}

/* ---------- Hero ---------- */
#hero{
  position: relative;
  isolation: isolate;
  padding-block: var(--space-8);
  background:
    radial-gradient(1200px 600px at 70% 10%, rgba(0,116,228,.25), transparent 60%),
    linear-gradient(180deg, #070d3c 0%, #050a2f 100%);
}
#hero .container{ display:grid; gap: var(--space-4); align-items:center; }
#hero h1{ letter-spacing: -0.02em; }
#hero .lead{ color: #e5ecff; }
#hero .cta-row{ display:flex; flex-wrap:wrap; gap: var(--space-3); margin-top: var(--space-3); }

.button{
  --btn-bg: var(--accent);
  --btn-fg: #1a1200;
  display:inline-flex; align-items:center; justify-content:center;
  padding: .75rem 1rem; border-radius: var(--radius-sm);
  font-weight: 700; font-size: var(--fs-200);
  text-decoration:none; border: 0;
  background: var(--btn-bg); color: var(--btn-fg);
  box-shadow: var(--shadow-sm);
}
.button:hover{ filter: saturate(1.1) brightness(1.02); }
.button:focus-visible{ outline: 3px solid var(--focus); outline-offset: 2px; }
.button.secondary{
  --btn-bg: transparent;
  --btn-fg: var(--fg);
  border: 1px solid var(--border);
}

/* ---------- About ---------- */
#about{
  background: var(--surface);
  color: var(--on-surface);
  padding-block: var(--space-7);
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
}
#about .values{
  display:flex; flex-wrap:wrap; gap: var(--space-3);
  margin-top: var(--space-3);
}
#about .chip{
  padding: .5rem .75rem;
  border-radius: 999px;
  border: 1px solid var(--border);
  font-size: var(--fs-200);
  color: #dde6ff;
}

/* ---------- Services ---------- */
#services{
  padding-block: var(--space-7);
}
.service-grid{ display:grid; gap: var(--space-4); grid-template-columns: repeat(3, minmax(0,1fr)); }
@media (max-width: 900px){ .service-grid{ grid-template-columns: 1fr 1fr; } }
@media (max-width: 600px){ .service-grid{ grid-template-columns: 1fr; } }
.service-card{
  background: #0a1142;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
}
.service-card h3{ margin-bottom: var(--space-2); }
.service-card p{ color: #d8e3ff; }
.service-card a{ display:inline-block; margin-top: var(--space-2); }

/* ---------- Portfolio ---------- */
#portfolio{ padding-block: var(--space-7); }
.portfolio-grid{
  display:grid; gap: var(--space-4);
  grid-template-columns: repeat(3, minmax(0,1fr));
}
@media (max-width: 900px){ .portfolio-grid{ grid-template-columns: 1fr 1fr; } }
@media (max-width: 600px){ .portfolio-grid{ grid-template-columns: 1fr; } }
.portfolio-item{
  background: #0a1142;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: clip;
}
.portfolio-item figure{ margin:0; }
.portfolio-item img{ display:block; width:100%; height:auto; }
.portfolio-item figcaption{
  padding: var(--space-3);
  font-size: var(--fs-200);
  color:#d8e3ff;
}

/* ---------- Quote / Contact ---------- */
#quote{ padding-block: var(--space-7); }
form[aria-labelledby="quote-title"]{
  display:grid; gap: var(--space-3);
  background: #0a1142;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
}
label{ font-weight: 600; }
input,select,textarea{
  width: 100%;
  padding: .7rem .8rem;
  background: #070f3a;
  color: var(--fg);
  border: 1px solid #3a4583;
  border-radius: 10px;
  font-size: var(--fs-300);
}
input::placeholder, textarea::placeholder{ color: #9fb1d7; }
input:focus-visible, select:focus-visible, textarea:focus-visible{
  outline: 3px solid var(--focus);
  outline-offset: 2px;
  border-color: var(--focus);
}
.help{ font-size: var(--fs-100); color:#cbd7f4; }

/* ---------- Footer ---------- */
footer{
  border-top: 1px solid var(--border);
  background: #070d3c;
  color: var(--fg);
  padding-block: var(--space-5);
}
footer .footer-grid{
  display:grid; gap: var(--space-4);
  grid-template-columns: 1.5fr 1fr 1fr;
}
@media (max-width: 900px){ footer .footer-grid{ grid-template-columns: 1fr 1fr; } }
@media (max-width: 600px){ footer .footer-grid{ grid-template-columns: 1fr; } }
footer a{ color: #dbe6ff; text-decoration: none; }
footer a:hover{ text-decoration: underline; }
footer small{ display:block; margin-top: var(--space-4); color:#b9c4d6; }

/* ---------- Utilities (opt-in) ---------- */
.visually-hidden{
  position:absolute !important; width:1px; height:1px; clip:rect(1px,1px,1px,1px);
  overflow:hidden; white-space:nowrap; border:0; padding:0; margin:-1px;
}
.max-w-70ch{ max-width:70ch; }
.text-center{ text-align:center; }
.mt-0{ margin-top:0!important; }
.mt-1{ margin-top:var(--space-1)!important; }
.mt-2{ margin-top:var(--space-2)!important; }
.mt-3{ margin-top:var(--space-3)!important; }
.mt-4{ margin-top:var(--space-4)!important; }
.mb-0{ margin-bottom:0!important; }
.mb-1{ margin-bottom:var(--space-1)!important; }
.mb-2{ margin-bottom:var(--space-2)!important; }
.mb-3{ margin-bottom:var(--space-3)!important; }
.mb-4{ margin-bottom:var(--space-4)!important; }

/* ---------- Contrast Notes ----------
- Default text: var(--fg) on dark bg passes AA (≈ #fff on #060b30).
- Secondary text on dark uses #d8e3ff / #cbd7f4 for sufficient contrast.
- Accent buttons use orange (#ffa500) on deep near-black text (#1a1200) for AA.
- Borders are subtle but not essential for meaning; key affordances rely on color+shape+text.
------------------------------------- */
